<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Votaci√≥n</title>
    <link rel="stylesheet" href="css/bulma.min.css">
    <link rel="stylesheet" href="css/sweetalert2.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <section class="hero is-info is-small no-print">
        <div class="hero-body">
            <div class="container has-text-centered header-logos">
                <div class="level">
                    <div class="level-item"><img src="img/huila.png" alt="Escudo Huila"></div>
                    <div class="level-item">
                        <div>
                            <h1 class="title is-4">INSTITUCI√ìN EDUCATIVA PROMOCI√ìN SOCIAL</h1>
                            <h2 class="subtitle is-6">Sistema de Votaci√≥n Electr√≥nica</h2>
                        </div>
                    </div>
                    <div class="level-item"><img src="img/escudo.png" alt="Escudo Colegio"></div>
                </div>
            </div>
        </div>
    </section>

    <div class="container is-max-desktop p-4">

        <div class="level is-mobile no-print">
            <div class="level-left">
                <button id="viewFunction" class="button is-warning section-hidden" onclick="switchPanel('admon')">
                    <span class="icon">‚öôÔ∏è</span> <span>Admin</span>
                </button>
            </div>
            <div class="level-right">
                <button id="logoutButton" class="button is-danger is-outlined section-hidden" onclick="logout()">
                    <span class="icon">üö™</span> <span>Salir</span>
                </button>
            </div>
        </div>

        <div id="login" class="columns is-centered">
            <div class="column is-half">
                <div class="card p-5">
                    <h3 class="title is-4 has-text-centered">Ingreso</h3>
                    <div class="field">
                        <label class="label" for="usuario">Usuario</label>
                        <div class="control"><input class="input" type="text" id="usuario" placeholder="Ej: mesa.1"></div>
                    </div>
                    <div class="field">
                        <label class="label" for="pass">Contrase√±a</label>
                        <div class="control"><input class="input" type="password" id="pass" placeholder="******"></div>
                    </div>
                    <button class="button is-info is-fullwidth" onclick="login()">Ingresar</button>
                </div>
            </div>
        </div>

        <div id="validacion" class="section-hidden has-text-centered">
            <div class="card p-6">
                <h3 class="title is-4">Habilitar Votante</h3>
                <div class="field has-addons is-justify-content-center">
                    <div class="control">
                        <label class="is-sr-only" for="documento">N√∫mero de Documento</label>
                        <input class="input is-large" type="number" id="documento" placeholder="Documento de identidad">
                    </div>
                    <div class="control">
                        <button class="button is-success is-large" onclick="validarDocumento()">Validar</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="personero" class="section-hidden has-text-centered">
            <h2 class="title is-3 mb-5">Elecci√≥n de Personero(a)</h2>
            <div class="columns is-multiline is-centered" id="contenedorPersoneros">
                </div>
        </div>

        <div id="contralor" class="section-hidden has-text-centered">
            <h2 class="title is-3 mb-5">Elecci√≥n de Contralor(a)</h2>
            <div class="columns is-multiline is-centered" id="contenedorContralores">
                </div>
        </div>

        <div id="admon" class="section-hidden admin-panel">
            <h2 class="title is-4 has-text-centered">Panel de Administraci√≥n</h2>
            <div class="columns is-multiline">
                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="switchPanel('panelCargas')">
                        <p class="title is-1">üë•</p> <p>Cargar Estudiantes</p>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="cargarConfigUI()">
                        <p class="title is-1">‚öôÔ∏è</p> <p>Configuraci√≥n</p>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="cargarGestorCandidatos()">
                        <p class="title is-1">üñºÔ∏è</p> <p>Candidatos</p>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="generarActa()">
                        <p class="title is-1">üìÑ</p> <p>Acta de Escrutinio</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="panelCargas" class="section-hidden admin-panel">
            <button class="button is-small mb-4" onclick="switchPanel('admon')">‚Üê Volver</button>
            <div class="card p-5">
                <h3 class="title is-5">Cargar Estudiantes</h3>
                <div class="field">
                    <label class="label" for="archivoEstudiantes">Archivo Excel</label>
                    <div class="control"><input class="input" type="file" id="archivoEstudiantes" accept=".xlsx, .xls"></div>
                </div>
                <div class="field">
                    <label class="label" for="numMesas">N√∫mero de mesas</label>
                    <div class="control"><input class="input" type="number" id="numMesas" placeholder="Ej: 6"></div>
                </div>
                <button class="button is-success" onclick="subirEstudiantes()">Procesar</button>
            </div>
        </div>

        <div id="panelConfig" class="section-hidden admin-panel">
            <button class="button is-small mb-4" onclick="switchPanel('admon')">‚Üê Volver</button>
            <div class="card p-5">
                <h3 class="title is-5">Configuraci√≥n del Acta</h3>
                <div class="columns is-multiline">
                    <div class="column is-6">
                        <label class="label" for="conf_rector">Rector(a)</label>
                        <input id="conf_rector" class="input" placeholder="Nombre completo">
                    </div>
                    <div class="column is-6">
                        <label class="label" for="conf_lider">L√≠der Proyecto</label>
                        <input id="conf_lider" class="input" placeholder="Nombre docente">
                    </div>
                    <div class="column is-6">
                        <label class="label" for="conf_lugar">Lugar</label>
                        <input id="conf_lugar" class="input" placeholder="Sede Principal">
                    </div>
                    <div class="column is-6">
                        <label class="label" for="conf_fecha">Fecha</label>
                        <input id="conf_fecha" class="input" type="date">
                    </div>
                    <div class="column is-6">
                        <label class="label" for="conf_inicio">Hora Inicio</label>
                        <input id="conf_inicio" class="input" type="time">
                    </div>
                    <div class="column is-6">
                        <label class="label" for="conf_fin">Hora Fin</label>
                        <input id="conf_fin" class="input" type="time">
                    </div>
                </div>
                <button class="button is-primary" onclick="guardarConfig()">Guardar Cambios</button>
            </div>
        </div>

        <div id="panelCandidatos" class="section-hidden admin-panel">
            <button class="button is-small mb-4" onclick="switchPanel('admon')">‚Üê Volver</button>
            <div class="columns">
                <div class="column is-4">
                    <div class="card p-4">
                        <h4 class="title is-6">Nuevo Candidato</h4>
                        <div class="field">
                            <label class="label" for="cand_nombre">Nombre</label>
                            <input id="cand_nombre" class="input" placeholder="Nombre completo">
                        </div>
                        <div class="field">
                            <label class="label" for="cand_cargo">Cargo</label>
                            <div class="select is-fullwidth">
                                <select id="cand_cargo" aria-label="Seleccionar Cargo">
                                    <option value="Personero">Personero</option>
                                    <option value="Contralor">Contralor</option>
                                </select>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label" for="cand_foto">Fotograf√≠a</label>
                            <input id="cand_foto" type="file" class="input" accept="image/*">
                        </div>
                        <button class="button is-link is-fullwidth" onclick="crearCandidato()">Agregar</button>
                    </div>
                </div>
                <div class="column is-8">
                    <table class="table is-fullwidth is-striped" aria-label="Lista de candidatos">
                        <thead><tr><th>Foto</th><th>Nombre</th><th>Cargo</th><th>Acci√≥n</th></tr></thead>
                        <tbody id="tablaCandidatos"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="panelActa" class="section-hidden admin-panel has-background-white">
            <button class="button is-small mb-4 no-print" onclick="switchPanel('admon')">‚Üê Volver</button>
            <button class="button is-small is-info mb-4 no-print" onclick="imprimirActa()">üñ®Ô∏è Imprimir / Guardar PDF</button>
            
            <div id="contenidoActa" class="acta-container">
                </div>
        </div>

    </div>

    <script src="js/sweetalert2.all.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>