<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Votaci√≥n Escolar - Node.js</title>
    
    <link rel="stylesheet" href="css/bulma.min.css">
    <link rel="stylesheet" href="css/sweetalert2.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <section class="hero is-info is-small">
        <div class="hero-body">
            <div class="container has-text-centered header-logos">
                <div class="level">
                    <div class="level-item">
                        <img src="img/huila.png" alt="Logo Huila">
                    </div>
                    <div class="level-item">
                        <div>
                            <h1 class="title is-4">INSTITUCI√ìN EDUCATIVA PROMOCI√ìN SOCIAL</h1>
                            <h2 class="subtitle is-6">Sistema de Votaci√≥n Electr√≥nica</h2>
                        </div>
                    </div>
                    <div class="level-item">
                        <img src="img/escudo.png" alt="Escudo Instituci√≥n">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container is-max-desktop p-4">

        <div class="level is-mobile">
            <div class="level-left">
                <button id="viewFunction" class="button is-warning section-hidden" onclick="viewFunction()">
                    <span class="icon">‚öôÔ∏è</span> <span>Administrar</span>
                </button>
            </div>
            <div class="level-right">
                <button id="logoutButton" class="button is-danger is-outlined section-hidden" onclick="logout()">
                    <span class="icon">üö™</span> <span>Salir</span>
                </button>
            </div>
        </div>

        <div id="login" class="columns is-centered">
            <div class="column is-half">
                <div class="card p-5">
                    <h3 class="title is-4 has-text-centered">Ingreso de Jurados</h3>
                    <div class="field">
                        <label class="label" for="usuario">Usuario</label>
                        <div class="control">
                            <input class="input" type="text" id="usuario" placeholder="Ej: mesa.1">
                        </div>
                    </div>
                    <div class="field">
                        <label class="label" for="pass">Contrase√±a</label>
                        <div class="control">
                            <input class="input" type="password" id="pass" placeholder="******">
                        </div>
                    </div>
                    <div class="control">
                        <button class="button is-info is-fullwidth" onclick="login()">Ingresar</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="validacion" class="section-hidden">
            <div class="columns is-centered">
                <div class="column is-half has-text-centered">
                    <div class="card p-6">
                        <h3 class="title is-4">Habilitar Votante</h3>
                        <p class="mb-4">Ingrese el documento del estudiante para verificar si puede votar en esta mesa.</p>
                        <div class="field has-addons">
                            <div class="control is-expanded">
                                <label class="is-sr-only" for="documento">N√∫mero de Documento</label>
                                <input class="input is-large" type="number" id="documento" placeholder="N√∫mero de Documento">
                            </div>
                            <div class="control">
                                <button class="button is-success is-large" onclick="validarDocumento()">
                                    Validar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="personero" class="section-hidden has-text-centered">
            <h2 class="title is-3 mb-5">Elecci√≥n de Personero(a)</h2>
            <div class="columns is-multiline is-centered">
                <div class="column is-4">
                    <div class="card p-4" onclick="votar('Candidato 01', 'personero')">
                        <figure class="image">
                            <img src="img/personero1.png" class="candidate-img" alt="Foto Candidato 01">
                        </figure>
                        <p class="title is-5 mt-2">Candidato 01</p>
                        <button class="button is-info is-small is-fullwidth mt-2">Votar</button>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4" onclick="votar('Candidato 02', 'personero')">
                        <figure class="image">
                            <img src="img/personero2.png" class="candidate-img" alt="Foto Candidato 02">
                        </figure>
                        <p class="title is-5 mt-2">Candidato 02</p>
                        <button class="button is-info is-small is-fullwidth mt-2">Votar</button>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4" onclick="votar('Voto en Blanco', 'personero')">
                        <figure class="image">
                            <img src="img/vb.png" class="candidate-img" alt="Voto en Blanco">
                        </figure>
                        <p class="title is-5 mt-2">Voto en Blanco</p>
                        <button class="button is-grey is-small is-fullwidth mt-2">Votar</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="contralor" class="section-hidden has-text-centered">
            <h2 class="title is-3 mb-5">Elecci√≥n de Contralor(a)</h2>
            <div class="columns is-multiline is-centered">
                <div class="column is-4">
                    <div class="card p-4" onclick="votar('Candidato 01', 'contralor')">
                        <figure class="image">
                            <img src="img/contralor1.png" class="candidate-img" alt="Foto Candidato 01">
                        </figure>
                        <p class="title is-5 mt-2">Candidato 01</p>
                        <button class="button is-info is-small is-fullwidth mt-2">Votar</button>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4" onclick="votar('Candidato 02', 'contralor')">
                        <figure class="image">
                            <img src="img/contralor2.png" class="candidate-img" alt="Foto Candidato 02">
                        </figure>
                        <p class="title is-5 mt-2">Candidato 02</p>
                        <button class="button is-info is-small is-fullwidth mt-2">Votar</button>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="card p-4" onclick="votar('Voto en Blanco', 'contralor')">
                        <figure class="image">
                            <img src="img/vb.png" class="candidate-img" alt="Voto en Blanco">
                        </figure>
                        <p class="title is-5 mt-2">Voto en Blanco</p>
                        <button class="button is-grey is-small is-fullwidth mt-2">Votar</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="admon" class="section-hidden">
            <div class="columns is-centered is-multiline">
                <div class="column is-12 has-text-centered">
                    <h2 class="title is-4">Panel de Administraci√≥n</h2>
                </div>
                
                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="mostrarCargaEstudiantes()">
                        <figure class="image is-128x128 container">
                            <img src="img/cargar_estudiantes.png" alt="Icono Cargar Estudiantes">
                        </figure>
                        <p class="title is-6 mt-3">Cargar Estudiantes</p>
                    </div>
                </div>

                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="mostrarCargaVotos()">
                        <figure class="image is-128x128 container">
                            <img src="img/cargar_votos.png" alt="Icono Cargar Votos">
                        </figure>
                        <p class="title is-6 mt-3">Cargar Votos (Hist√≥rico)</p>
                    </div>
                </div>

                <div class="column is-4">
                    <div class="card p-4 has-text-centered card-action" onclick="exportarExcel()">
                        <figure class="image is-128x128 container">
                            <img src="img/exportar.png" alt="Icono Exportar">
                        </figure>
                        <p class="title is-6 mt-3">Descargar Resultados</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="cargas" class="section-hidden">
            <button class="button is-small is-light mb-4" onclick="viewFunction()">‚Üê Volver al Panel</button>
            
            <div id="cargarEstudiantes" class="card p-5 section-hidden">
                <h3 class="title is-5">Carga Masiva de Estudiantes</h3>
                <div class="field">
                    <label class="label" for="archivoEstudiantes">Archivo Excel (.xlsx)</label>
                    <div class="control">
                        <input class="input" type="file" id="archivoEstudiantes" accept=".xlsx, .xls" title="Seleccionar archivo de estudiantes">
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="numMesas">N√∫mero de Mesas a Distribuir</label>
                    <div class="control">
                        <input class="input" type="number" id="numMesas" placeholder="Ej: 6" min="1">
                    </div>
                </div>
                <button class="button is-success" onclick="confirmarCargaEstudiantes()">Procesar Carga</button>
            </div>

            <div id="cargarVotos" class="card p-5 section-hidden">
                <h3 class="title is-5">Carga de Votos Hist√≥ricos</h3>
                <div class="field">
                    <label class="label" for="archivoVotos">Archivo de Votos (.xlsx)</label>
                    <div class="control">
                        <input class="input" type="file" id="archivoVotos" accept=".xlsx, .xls" title="Seleccionar archivo de votos antiguos">
                    </div>
                </div>
                <button class="button is-warning" onclick="confirmarCargaVotos()">Subir Votos</button>
            </div>
        </div>

    </div>

    <footer class="footer has-text-centered mt-5">
        <p class="is-size-7">
            <strong>Sistema de Votaci√≥n</strong> desarrollado para la Instituci√≥n Educativa. 
            <br>Tecnolog√≠a Node.js & SQLite - Modo Offline
        </p>
    </footer>

    <script src="js/sweetalert2.all.min.js"></script>
    <script src="js/main.js"></script>

</body>
</html>